{
    "class": "CommandLineTool",
    "name": "colab-config",
    "description": "the simplest tool, runs any google colab notebook",
    "author": "",
    "baseCommand": ["/bin/bash", "-c"],
    "arguments": [
        "sudo DEBIAN_FRONTEND=noninteractive apt-get install -y jq;",
        "wget https://raw.githubusercontent.com/labdao/plex/colab-base-notebook/tools/colab/parameterise_colab.sh -O parameterise_colab.sh && chmod +x parameterise_colab.sh;",
        "pip3 install papermill && pip3 install nbconvert;",
        "./parameterise_colab.sh $(inputs.notebook.filepath) tmp.ipynb;",
        "papermill tmp.ipynb /outputs/output_$(inputs.notebook.basename).ipynb;",
        "jupyter nbconvert --to html /outputs/output_$(inputs.notebook.basename).ipynb --output-dir /outputs;",
        "mv /inputs/* /outputs;"
      ],
    "dockerPull": "docker.io/niklastr/dev@sha256:01dd6d1eb418d67e97e7517de220e76f9403517502efa411f68c2eeb88977d0f",
    "gpuBool": true,
    "networkBool": true,
    "inputs": {
      "notebook": {
        "type": "File",
        "item": "",
        "glob": ["*.ipynb"]
      },
      "generic_input": {
          "type": "Array",
          "item": "File",
          "glob": ["*"]
      }
    },
    "outputs": {
      "executed_notebook": {
        "type": "File",
        "item": "",
        "glob": ["output_*.ipynb"]
      },
      "rendered_notebook": {
          "type": "File",
          "item": "",
          "glob": ["output_*.html"]
      },
      "generic_output": {
        "type": "Array",
        "item": "File",
        "glob": ["*"]
      }
    }
  }