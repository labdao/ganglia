{
    "class": "CommandLineTool",
    "name": "gnina",
    "description": "Protein-ligand docking using Gnina",
    "baseCommand": ["/bin/bash", "-c"],
    "arguments": [
      "gnina -r $(inputs.protein.path) -l $(inputs.small_molecule.path) --exhaustiveness $(inputs.exhaustiveness) --autobox_ligand $(inputs.protein.path) --cnn_scoring $(inputs.cnn_scoring) -o /outputs/$(inputs.protein.nameroot)_$(inputs.small_molecule.nameroot)_docked_scored.sdf;",
      "cp $(inputs.protein.path) /outputs;"
    ],
    "requirements": [
      {
        "class": "DockerRequirement",
        "dockerPull": "gnina/gnina:v1.0.1"
      },
      {
        "class": "ResourceRequirement",
        "gpuBool": false,
        "networkBool": false
      }
    ],
    "inputs": {
       "protein": {
            "type": "File",
            "glob": "*.pdb"
      },
       "small_molecule": {
            "type": "File",
            "glob": ["*.sdf", "*.mol2"]
      },  
      "exhaustiveness": {
        "type": "int",
        "default": 64
      },
      "cnn_scoring": {
        "type": "string",
        "default": "rescore"
      }
    },
    "outputs": {
      "docked_scored_sdf": {
        "type": "File",
        "glob": "*_docked_scored.sdf"
      },
      "protein": {
        "type": "File", 
        "glob": "*.pdb"
      }
    }
  }
  